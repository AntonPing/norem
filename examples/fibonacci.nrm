letrec
    extern print_int: fn(Int) -> ();
    extern scan_int: fn() -> Int;
    extern env_int: fn(Int) -> Int;
    extern prog_exit[T]: fn(Int) -> T;
    func fib(n: Int): Int =
        if @icmpls(n,0) then
            #prog_exit(1)
        else if @icmpeq(n,0) then
            0
        else if @icmpeq(n,1) then
            1
        else
            @iadd(fib(@isub(n,1)),fib(@isub(n,2)))
in
    let n = #env_int(1);
    let res = fib(n);
    #print_int(res);
end