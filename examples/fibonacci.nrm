letrec
    extern print_int : fun(Int) -> ();
    extern scan_int : fun() -> Int;
    extern env_int : fun(Int) -> Int;
    extern prog_exit: fun(Int) -> ();
    fun fib(n: Int): Int =
        if @icmpls(n,0) then begin
            #prog_exit(1);
            0
        end else if @icmpeq(n,0) then
            0
        else if @icmpeq(n,1) then
            1
        else
            @iadd(fib(@isub(n,1)),fib(@isub(n,2)))
in
    let n = #env_int(1);
    let res = fib(n);
    #print_int(res);
end